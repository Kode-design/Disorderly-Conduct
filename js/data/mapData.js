export const tileSize = 48;

const sharedLegend = {
  '#': { type: 'wall' },
  '.': { type: 'floor' },
  'P': { type: 'player' },
  'E': { type: 'enemy' },
  'D': { type: 'door', locked: true },
  'U': { type: 'door', locked: false },
  'F': { type: 'food' },
  'T': { type: 'terminal' },
  'X': { type: 'exit' },
  'L': { type: 'ally', id: 'larry' },
  'S': { type: 'ally', id: 'sera' },
  'C': { type: 'cover' },
  'G': { type: 'generator' },
  'B': { type: 'loot', item: 'wallet' },
  'Q': { type: 'loot', item: 'qubit' },
};

export const maps = {
  'gas-station': {
    id: 'gas-station',
    name: 'Waystone Gas & Sip',
    legend: sharedLegend,
    width: 28,
    height: 18,
    layout: [
      '############################',
      '#............##............#',
      '#....F.......##....C.......#',
      '#............##............#',
      '#..######..######..######..#',
      '#..#..T.#..#....#..#.E..#..#',
      '#..#....#..#....#..#....#..#',
      '#..#....#..#....#..#....#..#',
      '#..#..D.#..####.#..#....#..#',
      '#..#....#........B....P.#..#',
      '#..######............###..##',
      '#............##............#',
      '#....E.......##..F........#',
      '#............##............#',
      '#............##............#',
      '#.....X....................#',
      '#............L.............#',
      '############################',
    ],
    enemyConfigs: [
      {
        name: 'Station Guard',
        weapon: 'Civic SMG',
        patrol: [
          { x: 13, y: 5 },
          { x: 20, y: 5 },
          { x: 20, y: 9 },
          { x: 13, y: 9 },
        ],
        detection: 180,
        accuracy: 0.65,
      },
      {
        name: 'Clerk Drone',
        weapon: 'Arc Pistol',
        patrol: [
          { x: 6, y: 12 },
          { x: 12, y: 12 },
          { x: 12, y: 6 },
          { x: 6, y: 6 },
        ],
        detection: 160,
        accuracy: 0.55,
      },
    ],
    narrativeEvents: [
      {
        trigger: 'terminal-hacked',
        text: 'Terminal hacked. Safe location marked. Grab the wallet before backup arrives.',
      },
    ],
  },
  'neon-lot': {
    id: 'neon-lot',
    name: 'Neon Lot',
    legend: sharedLegend,
    width: 28,
    height: 18,
    layout: [
      '############################',
      '#....C...............C....#',
      '#....C....E....E.....C....#',
      '#....C...............C....#',
      '#........................#',
      '#..LLLL.............S....#',
      '#........................#',
      '#....C...............C....#',
      '#....C....F....F.....C....#',
      '#....C...............C....#',
      '#........................#',
      '#..E...................E.#',
      '#........................#',
      '#............P...........#',
      '#........................#',
      '#..........X.............#',
      '#........................#',
      '############################',
    ],
    enemyConfigs: [
      {
        name: 'Redline Raider',
        weapon: 'Shotpuncher',
        patrol: [
          { x: 5, y: 2 },
          { x: 22, y: 2 },
        ],
        detection: 200,
        accuracy: 0.45,
      },
      {
        name: 'Redline Sharps',
        weapon: 'Longbeam',
        patrol: [
          { x: 6, y: 11 },
          { x: 22, y: 11 },
        ],
        detection: 220,
        accuracy: 0.5,
      },
    ],
    narrativeEvents: [
      {
        trigger: 'allies-talked',
        text: 'Fixer Sera: Hold the perimeter. Redline gang is inbound! Protect the convoy drones.',
      },
    ],
  },
  'hyperion-annex': {
    id: 'hyperion-annex',
    name: 'Hyperion Vault Annex',
    legend: sharedLegend,
    width: 30,
    height: 18,
    layout: [
      '##############################',
      '#..T.......####.......T....##',
      '#..........####............##',
      '#..######..####..######..####',
      '#..#....#........#....#..#..#',
      '#..#....#..####..#....#..#..#',
      '#..#....#..#..#..#....#..#..#',
      '#..#....#..#..#..#....#..#..#',
      '#..#..D.#..#..#..#.E..#..#..#',
      '#..#....#..#..#..#....#..#..#',
      '#..#....#..####..#....#..#..#',
      '#..######..####..######..#..#',
      '#...............Q.........#X#',
      '#..E......................#.#',
      '#...........P.............#.#',
      '#..L......................#.#',
      '#.........................#.#',
      '##############################',
    ],
    enemyConfigs: [
      {
        name: 'Hyperion Warden',
        weapon: 'Ion SMG',
        patrol: [
          { x: 10, y: 2 },
          { x: 20, y: 2 },
          { x: 20, y: 8 },
          { x: 10, y: 8 },
        ],
        detection: 210,
        accuracy: 0.7,
      },
      {
        name: 'Vault Sentinel',
        weapon: 'Pulse Rifle',
        patrol: [
          { x: 6, y: 13 },
          { x: 22, y: 13 },
          { x: 22, y: 15 },
          { x: 6, y: 15 },
        ],
        detection: 240,
        accuracy: 0.75,
      },
    ],
    narrativeEvents: [
      {
        trigger: 'generator-disabled',
        text: 'Security grid offline. The vault door is vulnerable. Move fast.',
      },
    ],
  },
  'safehouse-siege': {
    id: 'safehouse-siege',
    name: 'Safehouse Siege',
    legend: sharedLegend,
    width: 28,
    height: 18,
    layout: [
      '############################',
      '#....G..............G.....#',
      '#........................#',
      '#..E...................E.#',
      '#........................#',
      '#....C.....####.....C....#',
      '#....C.....#..#.....C....#',
      '#....C.....#..#.....C....#',
      '#....C..L..#..#..S..C....#',
      '#....C.....#..#.....C....#',
      '#....C.....#..#.....C....#',
      '#....C.....####.....C....#',
      '#........................#',
      '#..........P.............#',
      '#........................#',
      '#..........X.............#',
      '#........................#',
      '############################',
    ],
    enemyConfigs: [
      {
        name: 'Hyperion Breacher',
        weapon: 'Storm Cannon',
        patrol: [
          { x: 5, y: 3 },
          { x: 22, y: 3 },
        ],
        detection: 200,
        accuracy: 0.6,
      },
      {
        name: 'Hyperion Suppressor',
        weapon: 'Suppressor LMG',
        patrol: [
          { x: 5, y: 10 },
          { x: 22, y: 10 },
        ],
        detection: 210,
        accuracy: 0.65,
      },
    ],
    narrativeEvents: [
      {
        trigger: 'generators-stable',
        text: 'Generators holding. Sera: Keep the pressure up, broadcast at 60%!',
      },
      {
        trigger: 'final-choice',
        text: 'Time to decide: Sell the qubit or leak it. Approach Sera to choose.',
      },
    ],
  },
};
